<?xml version="1.0" encoding="windows-1250" ?>
<cms xmlns:cms="laan.cms">
  <templates>
    <template type="laan.cookng.web.menuItem, laan.cookng.web">
      <a href="$item.url">${item.Name}</a>
    </template>
    
    <template type="system.int32, system">
      <script>jquery.ui.js</script>
      <html>
        <div class="number">${value}</div>
      </html>
    </template>
    
    <template type="system.datetime, system">
      <script>jquery.ui.datepicker.js</script>
      <html>
        <div class="datetime">${value}</div>
      </html>
    </template>
    
    <template type="system.collections.generic.ilist[[t]], systems.collections.generic">
      <script>jquery.ui.js</script>
      <html>
        <div class="datetime">${value}</div>
      </html>
    </template>

    <template type="laan.cookng.web.mostpopular, laan.cookng.web">
      <html>
        <table>
          <tbody>
            <tr><td><a href="${item.Url}">${item.Name}</a> (${item.cms:viewCount})</td></tr>
            <tr><td>Ben Laan</td></tr>
          </tbody>
        </table>
      </html>
    </template>

    <template type="laan.cookng.web.mostrecent, laan.cookng.web">
      <cms:table>
        <cms:column>
          <a href="${item.Url}">${item.Name}</a> (${item.cms:viewCount})
        </cms:column>
        <cms:column><cms:image data="${item.Image}"/></cms:column>
      </cms:table>
    </template>
    
  </templates>
  
  <cms:views>
    <cms:view name="master">
        <head>
          <meta name="Description" content="$description" />
          <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
          <meta name="Distribution" content="Global" />
          <meta name="Robots" content="index,follow" />
          <title>$title</title>
          <link href="/content/Site.css" rel="stylesheet" type="text/css" />
        </head>
        <body>
          <!-- wrap starts here -->
          <div id="wrap">
            <div id="header">
              <div id="header-content">
                <h1 id="logo"><a href="/" title="">Laan<span class="gray">Family</span></a></h1>
                <h2 id="slogan">$title</h2>
                <!-- Menu Tabs -->
                <cms:view name="main.menu"/>
              </div>
            </div>
            <div class="headerphoto">
            </div>
            <!-- content-wrap starts here -->
            <div id="content-wrap">
              <div id="content">
                <div id="sidebar">
                  <div class="sidebox">
                    <h1>Search Box</h1>
                    <form action="#" class="searchform">
                      <p>
                        <input name="search_query" class="textbox" type="text" />
                        <input name="search" class="button" value="Search" type="submit" />
                      </p>
                    </form>
                  </div>
                  <div class="sidebox">
                    <h1>Short About</h1>
                    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec libero. Suspendisse bibendum. Cras id urna. Morbi tincidunt, orci ac convallis aliquam, lectus turpis varius lorem, eu posuere nunc justo tempus leo.</p>
                  </div>
                  <div class="sidebox">
                    <h1 class="clear">Sidebar Menu</h1>
                    <ul class="sidemenu">
                      <li>
                        <a href="/">Home</a>
                      </li>
                      <li>
                        <a href="/Blogs">Blogs</a>
                      </li>
                      <li>
                        <a href="/News">News</a>
                      </li>
                    </ul>
                  </div>
                  <div class="sidebox">
                    <h1>Wise Words</h1>
                    <p>&quot;No man can live happily who regards himself alone; who turns everything to his own advantage. You must live for others if you wish to live for yourself.&quot;</p>
                    <p class="align-right">- Seneca</p>
                  </div>
                  <div class="sidebox">
                    <h1>Support Styleshout</h1>
                    <p>Laan.Content.Matters is an ASP.NET MVC CMS </p>
                  </div>
                </div>
                <div id="main">
                  <cms:view name="body"/>
                </div>
              </div>
            </div>
            <div id="footer"/>
          </div>
        </body>
    </cms:view>
  
    <cms:view name="home">
      <div class="body">
        <h1>Welcome to Cookng</h1>
        <p>
          A family recipe collection for the Ng family
          <img src="images/welcome.jpg"/>
        </p>
        <div class="body.top">
          <cms:view name="recipe.oftheday"></cms:view>
        </div>
        <div class="body.bottom">
          <div class="left.half">
            <cms:view name="recipe.recent"/>
          </div>
          <div class="right.half">
            <cms:view name="recipe.popular"/>
          </div>
        </div>
      </div>
    </cms:view>

    <cms:view name="recipe.recent">
      <hr/>
      <h2>Most Recent</h2>
      <cms:list data="$mostRecent"/>
    </cms:view>

    <cms:view name="recipe.popular">
      <hr/>
      <h2>Most Popular</h2>
      <cms:list data="$mostPopular"/>
    </cms:view>

    <cms:view name="main.menu">
      <div class="menu">
        <cms:list data="$page.Pages"/>
      </div>
    </cms:view>
  </cms:views>

  <cms:view name="blogs" type="list">
    <h2>Blog Listing</h2>
    <br/>
    <div class="list">
      <cms:list data="$blogs">
        <cms:item>
          <h2><a href="$item.link">$item.Name</a></h2>
          <br/>
          <p class="brief">$item.Description.Ellided()</p>
        </cms:item>
        <cms:separator><br/></cms:separator>
      </cms:list>
    </div>
  </cms:view>

  <cms:view name="posts" type="list">
    <div class="list">
      <cms:list data="$blog.posts">
        <cms:item>
          <h2>
            <a href="$item.link">$item.Name</a>
          </h2>
          <br/>
          <p class="full">$item.Body</p>
        </cms:item>
        <cms:separator>
          <br/>
        </cms:separator>
      </cms:list>
    </div>
  </cms:view>

  <cms:page name="blogs">
    <data name="all.blogs" type="blog" select="all"/>
  </cms:page>

  <cms:page name="posts">
    <data name="blog.posts" type="post" select="parent" order="date desc" />
  </cms:page>

  <cms:page name="post">
    <data name="blog.post" type="post" select="byKey" />
    <data name="blog.post.comments" type="comment" select="parent" order="date asc" />
  </cms:page>

  <cms:page name="recipe.home">
    <data name="recipe.oftheday" repository="recipe" select="RecipeOfTheDay"/>
    <data name="recipe.popular" repository="recipe" select="MostPoular"/>
    <data name="recipe.recent" repository="recipe" select="MostRecent"/>
  </cms:page>

</cms>

